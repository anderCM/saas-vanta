@import "tailwindcss";

@custom-variant dark (&:is(.dark *));

/* ============================================
   THEME VARIABLES
   ============================================ */

:root {
  --font-size: 16px;
  --background: #ffffff;
  --foreground: #171717;
  --card: #ffffff;
  --card-foreground: #171717;
  --popover: #ffffff;
  --popover-foreground: #171717;
  --primary: #10B981;
  --primary-foreground: #ffffff;
  --secondary: #1F2937;
  --secondary-foreground: #ffffff;
  --muted: #ececf0;
  --muted-foreground: #717182;
  --accent: #e9ebef;
  --accent-foreground: #030213;
  --destructive: #d4183d;
  --destructive-foreground: #ffffff;
  --border: rgba(0, 0, 0, 0.1);
  --input: transparent;
  --input-background: #f3f3f5;
  --ring: #10B981;
  --radius: 0.625rem;
}

.dark {
  --background: #1F2937;
  --foreground: #ffffff;
  --card: #374151;
  --card-foreground: #ffffff;
  --popover: #374151;
  --popover-foreground: #ffffff;
  --primary: #10B981;
  --primary-foreground: #ffffff;
  --secondary: #111827;
  --secondary-foreground: #ffffff;
  --muted: #4B5563;
  --muted-foreground: #D1D5DB;
  --accent: #4B5563;
  --accent-foreground: #ffffff;
  --destructive: #d4183d;
  --destructive-foreground: #ffffff;
  --border: #4B5563;
  --input: #4B5563;
  --input-background: #374151;
  --ring: #10B981;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);
  --color-popover: var(--popover);
  --color-popover-foreground: var(--popover-foreground);
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);
  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);
  --color-destructive: var(--destructive);
  --color-destructive-foreground: var(--destructive-foreground);
  --color-border: var(--border);
  --color-input: var(--input);
  --color-input-background: var(--input-background);
  --color-ring: var(--ring);

  /* Gray Scale for compatibility */
  --color-gray-50: #F9FAFB;
  --color-gray-100: #F3F4F6;
  --color-gray-200: #E5E7EB;
  --color-gray-300: #D1D5DB;
  --color-gray-400: #9CA3AF;
  --color-gray-500: #6B7280;
  --color-gray-600: #4B5563;
  --color-gray-700: #374151;
  --color-gray-800: #1F2937;
  --color-gray-900: #111827;
  --color-gray-950: #030712;

  /* Special Colors */
  --color-whatsapp: #25D366;
  --color-whatsapp-hover: #20ba5a;

  /* Typography */
  --font-sans: 'Inter', system-ui, sans-serif;

  /* Border Radius */
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
}

/* ============================================
   BASE STYLES
   ============================================ */

html {
  font-size: var(--font-size);
  scroll-behavior: smooth;
}

body {
  font-family: var(--font-sans);
  @apply bg-background text-foreground;
}

* {
  @apply border-border;
}

/* Dark mode transitions - solo para elementos especÃ­ficos */
body {
  transition: background-color 0.2s ease, color 0.2s ease;
}

/* ============================================
   REUSABLE COMPONENTS
   ============================================ */

/* Buttons - Primary */
.btn-primary {
  @apply bg-primary text-primary-foreground px-6 py-3 rounded-lg font-medium transition-all;
  @apply hover:bg-primary/90 shadow-lg hover:shadow-xl;
}

.btn-primary-lg {
  @apply bg-primary text-primary-foreground px-8 py-4 rounded-lg font-medium transition-all;
  @apply hover:bg-primary/90 shadow-lg hover:shadow-xl;
}

/* Buttons - Secondary (Outline) */
.btn-secondary {
  @apply border-2 border-primary text-primary px-6 py-3 rounded-lg font-medium transition-colors;
  @apply hover:bg-primary hover:text-primary-foreground;
}

.btn-secondary-lg {
  @apply border-2 border-primary text-primary px-8 py-4 rounded-lg font-medium transition-colors;
  @apply hover:bg-primary hover:text-primary-foreground;
}

/* Buttons - Ghost */
.btn-ghost {
  @apply text-foreground hover:bg-accent transition-colors p-3 rounded-lg;
}

/* Buttons - Destructive */
.btn-destructive {
  @apply bg-destructive text-destructive-foreground px-6 py-3 rounded-lg font-medium transition-all;
  @apply hover:bg-destructive/90;
}

/* Form Inputs */
.form-input {
  @apply w-full h-12 px-4 rounded-lg transition-all;
  @apply bg-input-background text-foreground;
  @apply border border-border;
  @apply placeholder:text-muted-foreground;
  @apply focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary;
}

.form-label {
  @apply block text-sm font-medium mb-2 text-foreground;
}

/* Cards */
.card {
  @apply rounded-xl p-6 transition-all;
  @apply bg-card text-card-foreground;
  @apply border border-border;
  @apply shadow-sm hover:shadow-md;
}

.card-glass {
  @apply bg-white/10 backdrop-blur-sm rounded-lg p-4 border border-white/10;
  @apply hover:bg-white/20 transition-all;
}

/* Alerts */
.alert-error {
  @apply p-4 rounded-lg;
  @apply bg-destructive/10 border border-destructive/20;
  @apply text-destructive;
}

.alert-success {
  @apply p-4 rounded-lg;
  @apply bg-primary/10 border border-primary/20;
  @apply text-primary;
}

/* Links */
.link-primary {
  @apply text-primary hover:text-primary/80 transition-colors;
}

/* Theme Toggle Button */
.theme-toggle {
  @apply p-3 rounded-lg transition-colors;
  @apply hover:bg-accent;
  @apply text-foreground;
}

/* Checkbox */
.form-checkbox {
  @apply w-4 h-4 rounded border-border text-primary;
  @apply focus:ring-primary accent-primary;
}

/* Icon Container */
.icon-container {
  @apply p-3 rounded-lg;
  @apply bg-white/20;
}

.icon-container svg {
  @apply w-6 h-6;
}

/* Table */
.table-th {
  @apply px-6 py-3 text-xs font-medium text-muted-foreground uppercase tracking-wider;
}

.table-action-btn {
  @apply p-1.5 rounded-lg hover:bg-muted transition-colors text-muted-foreground;
}

.table-action-btn-danger {
  @apply p-1.5 rounded-lg hover:bg-destructive/10 transition-colors text-destructive;
}

/* Pagination */
.pagination-btn {
  @apply relative inline-flex items-center px-4 py-2 text-sm font-medium;
  @apply bg-card text-foreground hover:bg-muted border border-border;
  @apply transition-colors;
}

.pagination-btn-active {
  @apply relative inline-flex items-center px-4 py-2 text-sm font-medium;
  @apply bg-primary text-primary-foreground;
}

.pagination-btn-disabled {
  @apply relative inline-flex items-center px-4 py-2 text-sm font-medium;
  @apply bg-muted text-muted-foreground cursor-not-allowed border border-border;
}

/* ============================================
   SIDEBAR NAVIGATION STYLES
   ============================================ */

.sidebar {
  display: flex;
  flex-direction: column;
  height: 100vh;
  background-color: var(--secondary);
  position: fixed;
  left: 0;
  top: 0;
  z-index: 40;
  width: 260px;
  transition: width 0.3s ease-in-out;
}

.sidebar.sidebar-collapsed {
  width: 72px;
}

.sidebar-top {
  display: flex;
  flex-direction: column;
  flex: 1;
  padding-top: 1.5rem;
  padding-left: 1rem;
  padding-right: 1rem;
  gap: 2rem;
}

.sidebar-bottom {
  padding: 0 1rem 1.5rem;
}

/* Sidebar Logo */
.sidebar-logo {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 0.5rem;
}

.sidebar-logo-group {
  display: flex;
  align-items: center;
  gap: 0.75rem;
}

.sidebar-logo-icon {
  width: 2.25rem;
  height: 2.25rem;
  border-radius: 0.5rem;
  overflow: hidden;
  flex-shrink: 0;
  background-color: #fff;
  display: flex;
  align-items: center;
  justify-content: center;
}

.sidebar-logo-text {
  font-size: 1.25rem;
  font-weight: 700;
  color: var(--primary);
  white-space: nowrap;
  transition: opacity 0.3s, width 0.3s;
}

.sidebar-collapsed .sidebar-logo-text {
  opacity: 0;
  width: 0;
  overflow: hidden;
}

/* Sidebar Navigation */
.sidebar-nav {
  display: flex;
  flex-direction: column;
  gap: 0.25rem;
}

.sidebar-nav-item {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  padding: 0.75rem;
  border-radius: 0.5rem;
  color: #9CA3AF;
  text-decoration: none;
  transition: all 0.2s;
}

.sidebar-nav-item:hover {
  color: #ffffff;
  background-color: #374151;
}

.sidebar-nav-item.active {
  background-color: #374151;
  color: #ffffff;
}

.sidebar-nav-item.active .sidebar-nav-icon {
  color: var(--primary);
}

.sidebar-nav-icon {
  flex-shrink: 0;
}

.sidebar-nav-text {
  font-size: 0.875rem;
  font-weight: 500;
  white-space: nowrap;
  transition: opacity 0.3s, width 0.3s;
}

.sidebar-collapsed .sidebar-nav-text {
  opacity: 0;
  width: 0;
  overflow: hidden;
}

.sidebar-collapsed .sidebar-nav-item {
  justify-content: center;
  padding-left: 0;
  padding-right: 0;
}

/* Sidebar User Section */
.sidebar-user {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  padding: 0.75rem;
  border-top: 1px solid #374151;
}

.sidebar-user-avatar {
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 9999px;
  background-color: var(--primary);
  flex-shrink: 0;
  display: flex;
  align-items: center;
  justify-content: center;
}

.sidebar-user-info {
  display: flex;
  flex-direction: column;
  flex: 1;
  min-width: 0;
  transition: opacity 0.3s, width 0.3s;
}

.sidebar-collapsed .sidebar-user-info {
  display: none;
}

.sidebar-user-name {
  font-size: 0.875rem;
  font-weight: 500;
  color: #ffffff;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.sidebar-user-role {
  font-size: 0.75rem;
  color: #9CA3AF;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.sidebar-toggle-btn {
  padding: 0.5rem;
  border-radius: 0.5rem;
  color: #9CA3AF;
  background: transparent;
  border: none;
  cursor: pointer;
  flex-shrink: 0;
  transition: color 0.2s, background-color 0.2s;
}

.sidebar-toggle-btn:hover {
  color: #ffffff;
  background-color: #374151;
}

.sidebar-collapsed .sidebar-toggle-btn {
  margin-left: auto;
  margin-right: auto;
}

.sidebar-collapsed .sidebar-user {
  flex-direction: column;
  padding: 0.5rem;
  gap: 0.5rem;
}

/* Sidebar Theme Toggle */
.sidebar-theme-toggle {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  padding: 0.75rem;
  border-radius: 0.5rem;
  background-color: #374151;
  color: #9CA3AF;
  cursor: pointer;
  transition: all 0.2s;
  margin-bottom: 1rem;
}

.sidebar-theme-toggle:hover {
  color: #ffffff;
}

.sidebar-theme-toggle-text {
  font-size: 0.875rem;
  font-weight: 500;
  white-space: nowrap;
  transition: opacity 0.3s, width 0.3s;
}

.sidebar-collapsed .sidebar-theme-toggle {
  justify-content: center;
  padding: 0.75rem;
}

.sidebar-collapsed .sidebar-theme-toggle-text {
  opacity: 0;
  width: 0;
  overflow: hidden;
}

/* Sidebar Logout Button */
.sidebar-logout-btn {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 2rem;
  height: 2rem;
  border-radius: 0.375rem;
  color: #EF4444;
  background: transparent;
  border: none;
  cursor: pointer;
  flex-shrink: 0;
  transition: background-color 0.2s;
}

.sidebar-logout-btn:hover {
  background-color: rgba(239, 68, 68, 0.1);
}

/* Sidebar Collapse Button */
.sidebar-collapse-btn {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 32px;
  height: 32px;
  border-radius: 0.375rem;
  color: #9CA3AF;
  background: transparent;
  border: none;
  cursor: pointer;
  flex-shrink: 0;
  transition: all 0.2s;
}

.sidebar-collapse-btn:hover {
  color: #ffffff;
  background-color: #374151;
}

.sidebar-collapsed .sidebar-logo {
  flex-direction: column;
  align-items: center;
  gap: 1rem;
}

.sidebar-collapsed .sidebar-logo-group {
  justify-content: center;
}

.sidebar-collapsed .sidebar-collapse-btn {
  width: 40px;
  height: 40px;
  background-color: #374151;
  border-radius: 0.5rem;
}

/* Main Content with Sidebar */
.main-with-sidebar {
  min-height: 100vh;
  margin-left: 260px;
  transition: margin-left 0.3s ease-in-out;
}

.sidebar-collapsed ~ .main-with-sidebar,
.main-with-sidebar.sidebar-is-collapsed {
  margin-left: 72px;
}

/* ============================================
   MOBILE RESPONSIVE STYLES
   ============================================ */

/* Mobile Menu Button */
.mobile-menu-btn {
  display: none;
  padding: 0.5rem;
  border-radius: 0.5rem;
  color: var(--muted-foreground);
  background: transparent;
  border: none;
  cursor: pointer;
  transition: color 0.2s, background-color 0.2s;
}

.mobile-menu-btn:hover {
  color: var(--foreground);
  background-color: var(--muted);
}

/* Sidebar Overlay (for mobile) */
.sidebar-overlay {
  display: none;
  position: fixed;
  inset: 0;
  background-color: rgba(0, 0, 0, 0.5);
  z-index: 45;
}

/* Mobile Styles */
@media (max-width: 768px) {
  /* Show mobile menu button */
  .mobile-menu-btn {
    display: flex;
    align-items: center;
    justify-content: center;
  }

  /* Sidebar on mobile */
  .sidebar {
    transform: translateX(-100%);
    width: 280px;
    z-index: 50;
    transition: transform 0.3s ease-in-out;
  }

  .sidebar.sidebar-mobile-open {
    transform: translateX(0);
  }

  /* Overlay animation */
  .sidebar-overlay {
    display: block;
    pointer-events: none;
    opacity: 0;
    transition: opacity 0.3s ease-in-out;
  }

  .sidebar-overlay.active {
    pointer-events: auto;
    opacity: 1;
  }

  /* Always show expanded sidebar on mobile (no collapsed state) */
  .sidebar.sidebar-collapsed {
    width: 280px;
  }

  .sidebar.sidebar-collapsed .sidebar-logo-text,
  .sidebar.sidebar-collapsed .sidebar-nav-text,
  .sidebar.sidebar-collapsed .sidebar-theme-toggle-text,
  .sidebar.sidebar-collapsed .sidebar-user-info {
    opacity: 1;
    width: auto;
    overflow: visible;
    display: block;
  }

  .sidebar.sidebar-collapsed .sidebar-nav-item {
    justify-content: flex-start;
    padding-left: 0.75rem;
    padding-right: 0.75rem;
  }

  .sidebar.sidebar-collapsed .sidebar-user {
    flex-direction: row;
    padding: 0.75rem;
    gap: 0.75rem;
  }

  .sidebar.sidebar-collapsed .sidebar-logo {
    flex-direction: row;
    align-items: center;
    justify-content: space-between;
    gap: 0;
  }

  .sidebar.sidebar-collapsed .sidebar-logo-group {
    justify-content: flex-start;
  }

  .sidebar.sidebar-collapsed .sidebar-collapse-btn {
    width: 32px;
    height: 32px;
    background-color: transparent;
  }

  .sidebar.sidebar-collapsed .sidebar-theme-toggle {
    justify-content: flex-start;
    padding: 0.75rem;
  }

  /* Hide collapse button on mobile - use close button instead */
  .sidebar-collapse-btn {
    display: none;
  }

  /* Show close button on mobile */
  .sidebar-close-btn {
    display: flex;
  }

  /* Main content on mobile - no margin */
  .main-with-sidebar,
  .main-with-sidebar.sidebar-is-collapsed {
    margin-left: 0;
  }

  /* Dashboard header adjustments for mobile */
  .dashboard-header {
    padding: 0 0.75rem!important;
  }

  .dashboard-header-title {
    font-size: 1.125rem;
  }

  /* Dashboard content padding for mobile */
  .dashboard-content {
    padding: 1rem;
  }

  /* Table responsive - make it scrollable */
  .table-th {
    padding: 0.75rem 1rem;
    font-size: 0.7rem;
  }

  /* Card adjustments */
  .card {
    padding: 1rem;
    border-radius: 0.5rem;
  }

  /* Form grid adjustments for mobile */
  .sm\:grid-cols-6 {
    grid-template-columns: repeat(1, minmax(0, 1fr));
  }

  .sm\:col-span-2,
  .sm\:col-span-3,
  .sm\:col-span-4,
  .sm\:col-span-6 {
    grid-column: span 1 / span 1;
  }

  /* Button adjustments */
  .btn-primary,
  .btn-secondary {
    padding: 0.625rem 1rem;
    font-size: 0.875rem;
  }

  /* Max width container on mobile */
  .max-w-7xl,
  .max-w-4xl {
    padding-left: 0;
    padding-right: 0;
  }
}

/* Tablet Styles */
@media (min-width: 769px) and (max-width: 1024px) {
  .sidebar {
    width: 72px;
  }

  .sidebar .sidebar-logo-text,
  .sidebar .sidebar-nav-text,
  .sidebar .sidebar-theme-toggle-text,
  .sidebar .sidebar-user-info {
    display: none;
  }

  .sidebar .sidebar-nav-item {
    justify-content: center;
    padding-left: 0;
    padding-right: 0;
  }

  .sidebar .sidebar-user {
    flex-direction: column;
    padding: 0.5rem;
    gap: 0.5rem;
  }

  .sidebar .sidebar-logo {
    flex-direction: column;
    align-items: center;
    gap: 1rem;
  }

  .sidebar .sidebar-logo-group {
    justify-content: center;
  }

  .sidebar .sidebar-collapse-btn {
    width: 40px;
    height: 40px;
    background-color: #374151;
    border-radius: 0.5rem;
  }

  .sidebar .sidebar-theme-toggle {
    justify-content: center;
    padding: 0.75rem;
  }

  .main-with-sidebar {
    margin-left: 72px;
  }

  /* On tablet, when expanded, show full sidebar */
  .sidebar.sidebar-expanded {
    width: 260px;
  }

  .sidebar.sidebar-expanded .sidebar-logo-text,
  .sidebar.sidebar-expanded .sidebar-nav-text,
  .sidebar.sidebar-expanded .sidebar-theme-toggle-text,
  .sidebar.sidebar-expanded .sidebar-user-info {
    display: block;
  }

  .sidebar.sidebar-expanded .sidebar-nav-item {
    justify-content: flex-start;
    padding-left: 0.75rem;
    padding-right: 0.75rem;
  }

  .sidebar.sidebar-expanded .sidebar-user {
    flex-direction: row;
    padding: 0.75rem;
    gap: 0.75rem;
  }

  .sidebar.sidebar-expanded .sidebar-logo {
    flex-direction: row;
    justify-content: space-between;
    gap: 0;
  }

  .sidebar.sidebar-expanded .sidebar-collapse-btn {
    width: 32px;
    height: 32px;
    background-color: transparent;
  }

  .sidebar.sidebar-expanded .sidebar-theme-toggle {
    justify-content: flex-start;
  }

  .sidebar.sidebar-expanded ~ .main-with-sidebar {
    margin-left: 260px;
  }
}

/* Close button for mobile sidebar */
.sidebar-close-btn {
  display: none;
  align-items: center;
  justify-content: center;
  width: 32px;
  height: 32px;
  border-radius: 0.375rem;
  color: #9CA3AF;
  background: transparent;
  border: none;
  cursor: pointer;
  flex-shrink: 0;
  transition: all 0.2s;
}

.sidebar-close-btn:hover {
  color: #ffffff;
  background-color: #374151;
}

/* Dashboard Header */
.dashboard-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  height: 4rem;
  padding: 0 2rem;
  background-color: var(--card);
  border-bottom: 1px solid var(--border);
  position: sticky;
  top: 0;
  z-index: 30;
}

.dashboard-header-title {
  font-size: 1.5rem;
  font-weight: 600;
  color: var(--foreground);
}

.dashboard-header-actions {
  display: flex;
  align-items: center;
  gap: 1rem;
}

.dashboard-header-btn {
  padding: 0.5rem;
  border-radius: 0.5rem;
  color: var(--muted-foreground);
  background: transparent;
  border: none;
  cursor: pointer;
  transition: color 0.2s, background-color 0.2s;
}

.dashboard-header-btn:hover {
  color: var(--foreground);
  background-color: var(--muted);
}

/* Dashboard Content - preserva el espaciado original */
.dashboard-content {
  padding: 2rem;
  background-color: var(--background);
  min-height: calc(100vh - 4rem);
}

/* Ajustar contenido existente dentro del dashboard */
.dashboard-content .max-w-7xl {
  max-width: 100%;
  margin-left: 0;
  margin-right: 0;
}

/* ============================================
   HOTWIRE COMBOBOX - Dark Mode Support
   Using high specificity to override inline styles
   ============================================ */

/* Combobox Wrapper - high specificity */
[data-controller="hw-combobox"] .hw-combobox__main__wrapper,
.hw-combobox .hw-combobox__main__wrapper,
.hw-combobox__main__wrapper {
  background-color: var(--input-background) !important;
  border: 1px solid var(--border) !important;
  border-radius: var(--radius) !important;
  transition: all 0.2s !important;
}

[data-controller="hw-combobox"] .hw-combobox__main__wrapper:focus-within,
.hw-combobox .hw-combobox__main__wrapper:focus-within,
.hw-combobox__main__wrapper:focus-within {
  border-color: var(--primary) !important;
  box-shadow: 0 0 0 2px rgba(16, 185, 129, 0.2) !important;
}

/* Combobox Input */
[data-controller="hw-combobox"] .hw-combobox__input,
.hw-combobox .hw-combobox__input,
input.hw-combobox__input,
.hw-combobox__input[type="text"] {
  background-color: transparent !important;
  color: var(--foreground) !important;
  border: none !important;
}

[data-controller="hw-combobox"] .hw-combobox__input::placeholder,
.hw-combobox__input::placeholder {
  color: var(--muted-foreground) !important;
}

/* Combobox Listbox (Dropdown) */
[data-controller="hw-combobox"] .hw-combobox__listbox,
.hw-combobox .hw-combobox__listbox,
ul.hw-combobox__listbox,
.hw-combobox__listbox {
  background-color: var(--card) !important;
  border: 1px solid var(--border) !important;
  border-radius: var(--radius) !important;
  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05) !important;
  max-height: 300px !important;
  overflow-y: auto !important;
}

/* Combobox Options */
[data-controller="hw-combobox"] .hw-combobox__option,
.hw-combobox .hw-combobox__option,
li.hw-combobox__option,
.hw-combobox__option {
  color: var(--foreground) !important;
  padding: 0.625rem 1rem !important;
  background-color: transparent !important;
  cursor: pointer !important;
}

[data-controller="hw-combobox"] .hw-combobox__option:hover,
[data-controller="hw-combobox"] .hw-combobox__option[aria-selected="true"],
.hw-combobox__option:hover,
.hw-combobox__option[aria-selected="true"] {
  background-color: var(--accent) !important;
  color: var(--accent-foreground) !important;
}

[data-controller="hw-combobox"] .hw-combobox__option--selected,
.hw-combobox__option--selected,
.hw-combobox__option[data-selected="true"] {
  background-color: var(--primary) !important;
  color: var(--primary-foreground) !important;
}

/* Combobox Handle (Arrow) */
[data-controller="hw-combobox"] .hw-combobox__handle,
.hw-combobox .hw-combobox__handle,
.hw-combobox__handle {
  color: var(--muted-foreground) !important;
}

/* Dark mode specific adjustments */
.dark [data-controller="hw-combobox"] .hw-combobox__listbox,
.dark .hw-combobox__listbox {
  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.4), 0 4px 6px -2px rgba(0, 0, 0, 0.3) !important;
}

/* Mobile specific - ensure dark mode works on all viewports */
@media (max-width: 768px) {
  .hw-combobox__main__wrapper,
  [data-controller="hw-combobox"] .hw-combobox__main__wrapper {
    background-color: var(--input-background) !important;
    border-color: var(--border) !important;
  }

  .hw-combobox__input,
  [data-controller="hw-combobox"] .hw-combobox__input {
    background-color: transparent !important;
    color: var(--foreground) !important;
  }

  .hw-combobox__listbox,
  [data-controller="hw-combobox"] .hw-combobox__listbox,
  ul.hw-combobox__listbox {
    background-color: var(--card) !important;
    border-color: var(--border) !important;
  }

  .hw-combobox__option,
  [data-controller="hw-combobox"] .hw-combobox__option,
  li.hw-combobox__option {
    background-color: transparent !important;
    color: var(--foreground) !important;
  }

  .hw-combobox__option:hover,
  .hw-combobox__option[aria-selected="true"],
  [data-controller="hw-combobox"] .hw-combobox__option:hover,
  [data-controller="hw-combobox"] .hw-combobox__option[aria-selected="true"] {
    background-color: var(--accent) !important;
    color: var(--accent-foreground) !important;
  }

  /* Dialog/modal mode on mobile */
  .hw-combobox__dialog,
  .hw-combobox__dialog__wrapper,
  [data-controller="hw-combobox"] .hw-combobox__dialog {
    background-color: var(--card) !important;
    border-color: var(--border) !important;
  }

  .hw-combobox__dialog__input,
  [data-controller="hw-combobox"] .hw-combobox__dialog__input {
    background-color: var(--input-background) !important;
    color: var(--foreground) !important;
    border-color: var(--border) !important;
  }

  .hw-combobox__dialog__listbox,
  [data-controller="hw-combobox"] .hw-combobox__dialog__listbox {
    background-color: var(--card) !important;
  }

  .hw-combobox__dialog__option,
  [data-controller="hw-combobox"] .hw-combobox__dialog__option {
    background-color: transparent !important;
    color: var(--foreground) !important;
  }

  .hw-combobox__dialog__option:hover,
  .hw-combobox__dialog__option[aria-selected="true"] {
    background-color: var(--accent) !important;
    color: var(--accent-foreground) !important;
  }
}

/* Hide the injected style tag visually (it shouldn't show anyway) */
.hw-combobox__main__wrapper > style {
  display: none !important;
}

/* Async Combobox Wrapper - ensure combobox fills container */
.async-combobox {
  display: flex;
  flex-direction: column;
}

.async-combobox [data-controller="hw-combobox"],
.async-combobox .hw-combobox {
  width: 100% !important;
}

.async-combobox .hw-combobox__main__wrapper {
  width: 100% !important;
}
